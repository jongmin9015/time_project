<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tis.mapper.CartMapper">
	
	<!-- 장바구니 담기 -->
	<insert id="insertCart">
		INSERT INTO tbl_cart (cartId, memberId, goodsNo, cartCount)
		VALUES (seq_cart.nextval, #{memberId}, #{goodsNo}, #{cartCount})
	</insert>

	<!-- 장바구니 리스트 조회 -->
	<select id="getCartWithMember" resultType="com.tis.domain.CartVO">
		SELECT cartId, memberId, c.goodsNo, cartCount, goodsName, goodsPrice, goodsImage
		FROM tbl_cart c LEFT JOIN tbl_goods g
		ON c.goodsNo = g.goodsNo
		WHERE memberId = #{memberId}
	</select>	
</mapper>